<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Details - CareerLens</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo"><i class="fas fa-graduation-cap"></i> CareerLens</div>
            <span style="color: var(--text-secondary);">{{ session.user }}</span>
        </div>
    </nav>

    <div class="container">
        <a href="{{ url_for('dashboard') }}" class="btn-back">
             Back to Dashboard
        </a>

        <div class="quiz-info">
            <div class="quiz-info-header">
                <h1>{{ topic }}{% if subtopic %} - {{ subtopic }}{% endif %}</h1>
                <p class="text-muted">Adaptive AI-Generated Quiz</p>
            </div>

            <div class="quiz-info-details">
                <div class="info-row">
                    <span class="info-label"><i class="fas fa-list"></i> Questions</span>
                    <span class="info-value">5 Questions</span>
                </div>
                <div class="info-row">
                    <span class="info-label"><i class="fas fa-clock"></i> Time Limit</span>
                    <span class="info-value">15 Minutes</span>
                </div>
                <div class="info-row">
                    <span class="info-label"><i class="fas fa-signal"></i> Difficulty</span>
                    <span class="info-value">
                        <span class="badge badge-accent">{{ difficulty or 'Medium' }}</span>
                    </span>
                </div>
            </div>

            <!-- Saved Progress Alert -->
            {% if has_saved_progress %}
            <div style="background: var(--bg-tertiary); padding: 1rem; border-radius: 6px; margin-bottom: 1rem; border-left: 3px solid var(--accent);">
                <p style="margin: 0;"><i class="fas fa-info-circle"></i> <strong>You have a saved quiz in progress</strong></p>
                <p class="text-muted" style="margin: 0.5rem 0 0 0; font-size: 0.9rem;">
                    Question {{ saved_question }}/5 â€¢ {{ saved_time_left }} remaining
                </p>
            </div>
            {% endif %}

            <div class="action-buttons" style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
                {% if has_saved_progress %}
                <form action="{{ url_for('quiz', topic=topic, subtopic=subtopic or '') }}" method="GET">
                    <input type="hidden" name="resume" value="true">
                    <button type="submit" class="btn" style="min-width: 200px;">
                        <i class="fas fa-play"></i> Resume Quiz
                    </button>
                </form>
                <form action="{{ url_for('quiz', topic=topic, subtopic=subtopic or '') }}" method="GET">
                    <input type="hidden" name="restart" value="true">
                    <button type="submit" class="btn btn-outline" style="min-width: 200px;">
                        <i class="fas fa-redo"></i> Start Fresh
                    </button>
                </form>
                {% else %}
                <form action="{{ url_for('quiz', topic=topic, subtopic=subtopic or '') }}" method="GET">
                    <button type="submit" class="btn" style="min-width: 200px;">
                        <i class="fas fa-play"></i> Start Quiz
                    </button>
                </form>
                {% endif %}
            </div>            
            <!-- Instructions -->
            <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border);">
                <h3 style="font-size: 1rem; margin-bottom: 0.75rem;">Instructions:</h3>
                <ul style="color: var(--text-secondary); font-size: 0.9rem; padding-left: 1.5rem;">
                    <li>Answer all questions before submitting</li>
                    <li>You can save and resume the quiz anytime</li>
                    <li>Timer will pause when you save progress</li>
                    <li>Each question has 4 options with one correct answer</li>
                    <li>Your score will be calculated instantly after submission</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>